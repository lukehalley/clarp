@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Hide scrollbar but keep scroll functionality */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

:root {
  --ivory-light: #FAF9F5;
  --ivory-medium: #F0EEE6;
  --ivory-dark: #E8E6DC;
  --slate-dark: #0a0a09;
  --slate-medium: #3D3D3A;
  --slate-light: #5E5D59;
  --clay: #D97757;
  --clay-deep: #C6613F;
  --cloud-light: #D1CFC5;
  --cloud-medium: #B0AEA5;
  --danger-orange: #FF6B35;
  --danger-black: #0a0a09;
}

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-ivory-light text-slate-dark font-mono;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");
  }

  ::selection {
    @apply bg-danger-orange text-black;
  }

  /* lowercase everything */
  h1, h2, h3, h4, h5, h6, button, .badge, nav a {
    text-transform: lowercase;
  }
}

@layer components {
  /* Terminal styling - more industrial */
  .terminal {
    @apply bg-slate-dark text-ivory-light font-mono overflow-hidden;
    border: 2px solid var(--danger-orange);
    box-shadow:
      0 0 0 1px rgba(255, 107, 53, 0.3),
      0 0 30px rgba(255, 107, 53, 0.1),
      inset 0 0 60px rgba(0, 0, 0, 0.5);
  }

  .terminal-header {
    @apply flex items-center gap-2 px-4 py-3 border-b-2 border-danger-orange/50;
    background: linear-gradient(90deg, rgba(255, 107, 53, 0.1), transparent);
  }

  .terminal-dot {
    @apply w-3 h-3 rounded-none;
  }

  .terminal-body {
    @apply p-4 sm:p-6 overflow-x-auto;
    background-image:
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(255, 107, 53, 0.03) 2px,
        rgba(255, 107, 53, 0.03) 4px
      );
  }

  .terminal-prompt::before {
    content: '$ ';
    @apply text-danger-orange;
  }

  /* Glitch effect - more aggressive */
  .glitch {
    position: relative;
    animation: glitch-skew 4s infinite linear alternate-reverse;
  }

  .glitch::before,
  .glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .glitch::before {
    left: 3px;
    text-shadow: -3px 0 #FF6B35;
    clip: rect(24px, 550px, 90px, 0);
    animation: glitch-anim-1 1.5s infinite linear alternate-reverse;
  }

  .glitch::after {
    left: -3px;
    text-shadow: 3px 0 #E74C3C;
    clip: rect(85px, 550px, 140px, 0);
    animation: glitch-anim-2 1.5s infinite linear alternate-reverse;
  }

  /* Progress bar that gets stuck - industrial style */
  .progress-stuck {
    @apply relative h-3 bg-slate-dark overflow-hidden;
    border: 1px solid var(--danger-orange);
  }

  .progress-stuck::after {
    content: '';
    @apply absolute inset-y-0 left-0;
    background: repeating-linear-gradient(
      90deg,
      var(--danger-orange),
      var(--danger-orange) 10px,
      var(--clay-deep) 10px,
      var(--clay-deep) 20px
    );
    animation: progress-stuck 3s ease-in-out infinite;
  }

  /* Coming soon button - broken looking */
  .btn-coming-soon {
    @apply relative px-6 py-3 bg-slate-dark text-ivory-light font-mono text-sm;
    @apply border-2 border-danger-orange cursor-not-allowed;
    @apply transition-all duration-200;
    text-transform: lowercase;
  }

  .btn-coming-soon:hover {
    animation: glitch 0.15s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(255, 107, 53, 0.4);
  }

  .btn-coming-soon::after {
    content: '(never)';
    @apply absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-danger-orange whitespace-nowrap;
  }

  /* Satirical card - harsh edges */
  .larp-card {
    @apply relative bg-ivory-medium border-2 border-slate-dark;
    @apply transition-all duration-300;
    box-shadow: 4px 4px 0 var(--slate-dark);
  }

  .larp-card:hover {
    @apply border-danger-orange;
    box-shadow: 6px 6px 0 var(--danger-orange);
    transform: translate(-2px, -2px);
  }

  .larp-card::before {
    content: 'Ã—';
    @apply absolute -top-3 -right-3 w-8 h-8 flex items-center justify-center text-sm font-bold;
    background: var(--danger-orange);
    color: black;
  }

  /* Badge styles - rougher */
  .badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1 text-xs font-mono;
    border: 1px solid currentColor;
    text-transform: lowercase;
  }

  .badge-warning {
    @apply bg-danger-orange/20 text-danger-orange border-danger-orange;
  }

  .badge-error {
    @apply bg-larp-red/20 text-larp-red border-larp-red;
  }

  .badge-success {
    @apply bg-larp-green/20 text-larp-green border-larp-green;
  }

  .badge-larp {
    @apply bg-clay/20 text-clay border-clay;
  }

  .badge-default {
    @apply bg-slate-medium/20 text-slate-light border-slate-light;
  }

  /* ASCII art container */
  .ascii-art {
    @apply font-mono text-[10px] sm:text-xs leading-none whitespace-pre;
    text-shadow: 0 0 15px rgba(255, 107, 53, 0.5);
  }

  /* DANGER STRIPE - ORANGE AND BLACK */
  .construction-stripe {
    background: repeating-linear-gradient(
      45deg,
      #FF6B35,
      #FF6B35 10px,
      #0a0a09 10px,
      #0a0a09 20px
    );
    background-size: 28.28px 28.28px; /* sqrt(20^2 + 20^2) for perfect loop */
    animation: stripe-move 1s linear infinite;
  }

  /* Harsh button styles */
  .btn-primary {
    @apply px-4 sm:px-6 py-2.5 sm:py-3 bg-danger-orange text-black font-mono font-bold text-sm sm:text-base;
    @apply border-2 border-black transition-all duration-150;
    box-shadow: 4px 4px 0 black;
    text-transform: lowercase;
  }

  .btn-primary:hover {
    box-shadow: 2px 2px 0 black;
    transform: translate(2px, 2px);
  }

  .btn-primary:active {
    box-shadow: 0 0 0 black;
    transform: translate(4px, 4px);
  }

  .btn-secondary {
    @apply px-4 sm:px-6 py-2.5 sm:py-3 bg-transparent text-slate-dark font-mono text-sm sm:text-base;
    @apply border-2 border-slate-dark transition-all duration-150;
    box-shadow: 4px 4px 0 var(--slate-dark);
    text-transform: lowercase;
  }

  .btn-secondary:hover {
    @apply bg-slate-dark text-ivory-light;
    box-shadow: 2px 2px 0 var(--slate-dark);
    transform: translate(2px, 2px);
  }

  .btn-outline {
    @apply px-4 sm:px-6 py-2.5 sm:py-3 bg-transparent text-danger-orange font-mono text-sm sm:text-base;
    @apply border-2 border-danger-orange transition-all duration-150 cursor-pointer;
    text-transform: lowercase;
    box-shadow: 4px 4px 0 var(--danger-orange);
  }

  .btn-outline:hover {
    @apply bg-danger-orange text-black;
    box-shadow: 2px 2px 0 var(--danger-orange);
    transform: translate(2px, 2px);
  }

  /* Scanlines overlay */
  .scanlines::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.1) 2px,
      rgba(0, 0, 0, 0.1) 4px
    );
  }

  /* Noise texture overlay */
  .noise-overlay {
    position: relative;
  }

  .noise-overlay::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.15'/%3E%3C/svg%3E");
    z-index: 1;
  }
}

@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-danger-orange to-clay bg-clip-text text-transparent;
  }

  .border-gradient {
    border-image: linear-gradient(to right, var(--danger-orange), var(--clay)) 1;
  }

  .text-danger {
    color: var(--danger-orange);
  }
}

/* Stripe animation - 28.28px is the diagonal repeat distance for 20px stripes at 45deg */
@keyframes stripe-move {
  0% { background-position: 0 0; }
  100% { background-position: 28.28px 0; }
}

/* Glitch animations - more aggressive */
@keyframes glitch-anim-1 {
  0% { clip: rect(30px, 9999px, 10px, 0); transform: skew(0.5deg); }
  20% { clip: rect(15px, 9999px, 50px, 0); transform: skew(-0.5deg); }
  40% { clip: rect(60px, 9999px, 80px, 0); transform: skew(0.5deg); }
  60% { clip: rect(20px, 9999px, 40px, 0); transform: skew(-0.5deg); }
  80% { clip: rect(45px, 9999px, 65px, 0); transform: skew(0.5deg); }
  100% { clip: rect(25px, 9999px, 35px, 0); transform: skew(-0.5deg); }
}

@keyframes glitch-anim-2 {
  0% { clip: rect(65px, 9999px, 85px, 0); transform: skew(-0.5deg); }
  20% { clip: rect(10px, 9999px, 30px, 0); transform: skew(0.5deg); }
  40% { clip: rect(40px, 9999px, 60px, 0); transform: skew(-0.5deg); }
  60% { clip: rect(70px, 9999px, 90px, 0); transform: skew(0.5deg); }
  80% { clip: rect(5px, 9999px, 25px, 0); transform: skew(-0.5deg); }
  100% { clip: rect(55px, 9999px, 75px, 0); transform: skew(0.5deg); }
}

@keyframes glitch-skew {
  0% { transform: skew(0deg); }
  20% { transform: skew(0deg); }
  21% { transform: skew(2deg); }
  22% { transform: skew(-1deg); }
  23% { transform: skew(0deg); }
  100% { transform: skew(0deg); }
}

/* Flickering animation */
@keyframes flicker {
  0%, 100% { opacity: 1; }
  41% { opacity: 1; }
  42% { opacity: 0.8; }
  43% { opacity: 1; }
  45% { opacity: 0.3; }
  46% { opacity: 1; }
}

.flicker {
  animation: flicker 3s infinite;
}

/* Smoke explosion effect */
@keyframes smoke-explode-1 {
  0% { opacity: 1; transform: translate(0, 0) scale(1); filter: blur(0px); }
  100% { opacity: 0; transform: translate(-40px, -50px) scale(1.3); filter: blur(2px); }
}
@keyframes smoke-explode-2 {
  0% { opacity: 1; transform: translate(0, 0) scale(1); filter: blur(0px); }
  100% { opacity: 0; transform: translate(40px, -45px) scale(1.2); filter: blur(2px); }
}
@keyframes smoke-explode-3 {
  0% { opacity: 1; transform: translate(0, 0) scale(1); filter: blur(0px); }
  100% { opacity: 0; transform: translate(-25px, -60px) scale(1.4); filter: blur(3px); }
}
@keyframes smoke-explode-4 {
  0% { opacity: 1; transform: translate(0, 0) scale(1); filter: blur(0px); }
  100% { opacity: 0; transform: translate(30px, -55px) scale(1.1); filter: blur(2px); }
}
@keyframes smoke-explode-5 {
  0% { opacity: 1; transform: translate(0, 0) scale(1); filter: blur(0px); }
  100% { opacity: 0; transform: translate(0, -70px) scale(1.5); filter: blur(3px); }
}
@keyframes smoke-explode-6 {
  0% { opacity: 1; transform: translate(0, 0) scale(1); filter: blur(0px); }
  100% { opacity: 0; transform: translate(-50px, -30px) scale(1.2); filter: blur(2px); }
}
@keyframes smoke-explode-7 {
  0% { opacity: 1; transform: translate(0, 0) scale(1); filter: blur(0px); }
  100% { opacity: 0; transform: translate(50px, -25px) scale(1.3); filter: blur(2px); }
}

.smoke-particle { pointer-events: none; }
.smoke-1 { animation: smoke-explode-1 0.6s ease-out forwards; }
.smoke-2 { animation: smoke-explode-2 0.7s ease-out forwards; }
.smoke-3 { animation: smoke-explode-3 0.5s ease-out forwards; }
.smoke-4 { animation: smoke-explode-4 0.65s ease-out forwards; }
.smoke-5 { animation: smoke-explode-5 0.55s ease-out forwards; }
.smoke-6 { animation: smoke-explode-6 0.6s ease-out forwards; }
.smoke-7 { animation: smoke-explode-7 0.7s ease-out forwards; }

/* Shake animation for rage clicking */
@keyframes shake {
  0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
  10% { transform: translate(-50%, -50%) translate(-5px, -5px) rotate(-2deg); }
  20% { transform: translate(-50%, -50%) translate(5px, 5px) rotate(2deg); }
  30% { transform: translate(-50%, -50%) translate(-5px, 5px) rotate(-2deg); }
  40% { transform: translate(-50%, -50%) translate(5px, -5px) rotate(2deg); }
  50% { transform: translate(-50%, -50%) translate(-3px, -3px) rotate(-1deg); }
  60% { transform: translate(-50%, -50%) translate(3px, 3px) rotate(1deg); }
  70% { transform: translate(-50%, -50%) translate(-3px, 3px) rotate(-1deg); }
  80% { transform: translate(-50%, -50%) translate(3px, -3px) rotate(1deg); }
  90% { transform: translate(-50%, -50%) translate(-1px, -1px) rotate(0deg); }
}

/* Custom scrollbar - industrial */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: var(--slate-dark);
  border-left: 1px solid var(--danger-orange);
}

::-webkit-scrollbar-thumb {
  background: var(--danger-orange);
  border: 2px solid var(--slate-dark);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--clay);
}

/* Cursor */
* {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%23FF6B35' d='M5.5 3.21V20.8l3.5-3.5 2.5 5.5 2.5-1-2.5-5.5h5z'/%3E%3C/svg%3E"), auto;
}

a, button, [role="button"] {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%23FF6B35' d='M10 6v2H5v9h9v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v8h-2V6.413l-7.793 7.794-1.414-1.414L17.585 5H13V3h8z'/%3E%3C/svg%3E"), pointer;
}

/* Notification toast animations */
@keyframes slide-in-left {
  0% {
    opacity: 0;
    transform: translateX(-120%);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slide-out-left {
  0% {
    opacity: 1;
    transform: translateX(0);
  }
  100% {
    opacity: 0;
    transform: translateX(-120%);
  }
}

.animate-slide-in {
  animation: slide-in-left 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-slide-out {
  animation: slide-out-left 0.3s cubic-bezier(0.7, 0, 0.84, 0) forwards;
}

.notification-toast {
  transform-origin: bottom left;
}
